{% extends "/_layouts/site" %} {% block main %}

{% include '/_partials/page-header' %}
<section class="section theme-light section-bg-white py-10 md:py-24 ">

    {% set newsEntries = craft.entries().section('news').with(['featureImage']).limit(9)   %}
    <div class="relative container mx-auto px-3">
        <div class="flex flex-wrap -mx-3">
           
        {% paginate newsEntries as pageInfo, pageEntries %}

            {% for entry in pageEntries %}
                <div class="w-full md:w-1/3 p-3">
                    <a href="{{ entry.url }}">
                        <article class="group w-full h-full rounded bg-white shadow hover:shadow-lg  transition-all rounded overflow-hidden">
                            <div class="relative h-0 aspect-ratio-landscape overflow-hidden bg-gray-200">
                            {% if entry.featureImage[0] %}
                                {% set image = entry.featureImage[0] %}
                                {% set full = (image.width > 2000) ? 2000 : image.width %}
                                {% set half = (full / 2)|round %}
                                {% set fourth = (full / 4)|round %}
                                
                                    <img class="lazyload absolute inset-0 object-cover w-full h-full scale-100 group-hover:scale-110 transition-all" src="{{ image.url({ width: half }) }}" alt=""
                                        data-srcset="{{ image.url({ width: fourth }) }} {{ fourth }}w,
                                                {{ image.url({ width: half }) }} {{ half }}w,
                                                {{ image.url({ width: full }) }} {{ full }}w"
                                        sizes="(min-width: {{ half + 1 }}px) {{ full }}px,
                                                (min-width: {{ fourth + 1 }}px) {{ half }}px,
                                                100vw"
                                    > 
                                
                            {% endif %}
                            </div>
                            <div class="p-6">
                                <h5>{{ entry.title }}</h5>
                                <p class="text-sm">{{ entry.postDate | date("M d, Y") }}</p>
                            </div>
                        </article>
                    </a>
                </div>
            {% endfor %}

        </div>
    </div>

    <div class="container mx-auto px-3 pt-10 flex justify-center">
        {% if pageInfo.prevUrl %}<a class="mx-2 btn btn-outline" href="{{ pageInfo.prevUrl }}">Previous page</a>{% endif %}
        {% if pageInfo.nextUrl %}<a class="mx-2 btn btn-outline" href="{{ pageInfo.nextUrl }}">Next page</a>{% endif %}
    </div>

</section> 
{% include '/_partials/layout-builder' %}

{% endblock %}  